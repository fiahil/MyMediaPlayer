<UserControl x:Class="MyWmp.View.Theme"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit" xmlns:uiElements="clr-namespace:MyWmp.UIElements"
             mc:Ignorable="d"
      d:DesignHeight="50" d:DesignWidth="100" Visibility="Collapsed" IsVisibleChanged="Theme_OnIsVisibleChanged">

    <Popup x:Name="PopupTheme" Width="120" IsOpen="False" Placement="Mouse" MouseLeftButtonDown="PopupTheme_OnMouseLeftButtonDown">
            <Border Background="{DynamicResource BgBrush}" BorderThickness="3" BorderBrush="{DynamicResource FgBrush}" Padding="5">
                <StackPanel Orientation="Vertical">
                <Thumb x:Name="Thumb" Width="0" Height="0" DragDelta="Thumb_OnDragDelta" />
                <GroupBox Header="Background" Style="{DynamicResource Groupbox}">
                        <xctk:ColorPicker x:Name="Background" />
                    </GroupBox>
                    <GroupBox Header="Foreground" Style="{DynamicResource Groupbox}">
                        <xctk:ColorPicker x:Name="Foreground" />
                    </GroupBox>
                </StackPanel>
            </Border>
    </Popup>
</UserControl>
